CREATE TABLE [dbo].[Contatos] (
    [ContatoId] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](50) NOT NULL,
    [Sobrenome] [varchar](100) NOT NULL,
    [DataNascimento] [datetime] NOT NULL,
    [Sexo] [int] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Contatos] PRIMARY KEY ([ContatoId])
)
CREATE TABLE [dbo].[Emails] (
    [EmailId] [uniqueidentifier] NOT NULL,
    [TipoEmail] [int] NOT NULL,
    [Mail] [varchar](80) NOT NULL,
    [ContatoId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Emails] PRIMARY KEY ([EmailId])
)
CREATE TABLE [dbo].[Enderecos] (
    [EnderecoId] [uniqueidentifier] NOT NULL,
    [Cep] [varchar](8) NOT NULL,
    [Logradouro] [varchar](150) NOT NULL,
    [Numero] [varchar](6) NOT NULL,
    [Complemento] [varchar](100),
    [Bairro] [varchar](80) NOT NULL,
    [Cidade] [varchar](80) NOT NULL,
    [Estado] [varchar](2) NOT NULL,
    CONSTRAINT [PK_dbo.Enderecos] PRIMARY KEY ([EnderecoId])
)
CREATE TABLE [dbo].[Telefones] (
    [TelefoneId] [uniqueidentifier] NOT NULL,
    [TipoTelefone] [int] NOT NULL,
    [Fone] [varchar](16) NOT NULL,
    [Ramal] [varchar](4),
    [ContatoId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Telefones] PRIMARY KEY ([TelefoneId])
)
CREATE TABLE [dbo].[ContatoEndereco] (
    [ContatoId] [uniqueidentifier] NOT NULL,
    [EnderecoId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.ContatoEndereco] PRIMARY KEY ([ContatoId], [EnderecoId])
)
CREATE INDEX [IX_ContatoId] ON [dbo].[Emails]([ContatoId])
CREATE INDEX [IX_Cep] ON [dbo].[Enderecos]([Cep])
CREATE INDEX [IX_ContatoId] ON [dbo].[Telefones]([ContatoId])
CREATE INDEX [IX_ContatoId] ON [dbo].[ContatoEndereco]([ContatoId])
CREATE INDEX [IX_EnderecoId] ON [dbo].[ContatoEndereco]([EnderecoId])
ALTER TABLE [dbo].[Emails] ADD CONSTRAINT [FK_dbo.Emails_dbo.Contatos_ContatoId] FOREIGN KEY ([ContatoId]) REFERENCES [dbo].[Contatos] ([ContatoId])
ALTER TABLE [dbo].[Telefones] ADD CONSTRAINT [FK_dbo.Telefones_dbo.Contatos_ContatoId] FOREIGN KEY ([ContatoId]) REFERENCES [dbo].[Contatos] ([ContatoId])
ALTER TABLE [dbo].[ContatoEndereco] ADD CONSTRAINT [FK_dbo.ContatoEndereco_dbo.Contatos_ContatoId] FOREIGN KEY ([ContatoId]) REFERENCES [dbo].[Contatos] ([ContatoId])
ALTER TABLE [dbo].[ContatoEndereco] ADD CONSTRAINT [FK_dbo.ContatoEndereco_dbo.Enderecos_EnderecoId] FOREIGN KEY ([EnderecoId]) REFERENCES [dbo].[Enderecos] ([EnderecoId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201512282137549_AutomaticMigration', N'Agenda.Infra.Dados.Migrations.Configuration',  0x1F8B0800000000000400D55CDB6EDB3618BE1FB0771074396456926E4517D81B52272E82D54911A7C3EE0A5AA21D6212A58A541063E893ED628FB4571875A2281E649D9C037A9350E4C79F3FFF03C9FF4BFFFBE7DFE96F8F816F3DC098A010CFEC93C9B16D41EC861EC2DB999DD0CD8FEFECDF7EFDFEBBE9A5173C5A7F94FDDEA4FDD8484C66F63DA5D199E310F71E06804C02E4C621093774E2868103BCD0393D3EFEC53939712083B01996654D6F134C5100B35FD8AFF310BB30A209F097A1077D52B4B32FAB0CD5BA0601241170E1CC3EDF42EC81C915DEC46072C1F0C9840DA7F091DAD6B98F00936805FD8D6D018C430A2893F7EC33812B1A8778BB8A5803F0EF761164FD36C027B058C759D5BDED928E4FD32539D5C012CA4D080D838E80276F0A1D39F2F05E9AB6B90E99162F99B6E92E5D75A6C9999D6A0CD0D0B6E4B9CEE67E9CF6E37ABE080384513849213CE0C15CDB6CEC9155EF71C4AD831951FAEFC89A273E4D6238C330A131F08FAC4FC9DA47EEEF707717FE05F10C27BE2FCAC92465DF6A0DACE9531C4630A6BB5BB8A94B7FE5D996531FEEC8E3F9687568BECC0F09623F5F3349C0DA87DC269C4694EB30802500332CE62BB6B5048F1F21DED2FB99FD33738E057A845ED950807EC68879161B43E304769E7415AE63889B673E393EC8D41780826B405CE6B238B59A7C7ED60AEF50D06325F09183A4BE3AC91B3AA29C53F4C061DE87A10F01EEB5B239F00061E1A1FBBAAEC103DA667E23C15E0600F9C4B66EA19F7D26F7282AD69A7DFAC21D701187C16DE89763CA0F5FEE40BC852CA4DD85BAAFAB3089DD2EF2600FC6D00DF52295A842AF4A2CE5239FBC144DED510ADF56BC3BE8C34D88A15EBCF2AB4E69F237456F4A079DEAA64E15211BE366B60BBDA26636F2196366367F9F88C9070E889777280A0BD5095E2FB476C45B8A506A147C779020D83375188D9E5B73FF20217BA23E84F4B3F4C299FB197B31F839EDBD10A197C90B630758FD1C464D462AD9686E93C34CF463B88DD93930A97299EE8C7098E3C97512C0C679DF1EC62983C887B563C9806351F35CEF018A1B5778A0B89339D5934F7B492833A586694F87CFDA3A1A9559BC57342A073F63342A45E8138DC4B1037370A546290D571F3AA22E44348DE31DC4E96F41009AF2FF4F2338FB5366FB4E075C39E71B4FC0ED1C2D090437CBEF615764E1836DF53ED2C3E552A0B1DC8DED1B4BC7FE8EED723EEB15A66F4E252F5CC2600D637E3C246EE223CCD6F207F013D672AC6C546DC002A6120AFD4F54F5E58A6A509E709C1D41831CEDF9D4380FE3288C417ECD6EA7C84F909030F5CD817AACE2D148AA1C3B0774D7268B48ADD538877EE283D8A446B9FB2DF050857DDA46E7E76C9F5C946950BCE7F108549F8D1D88ADC6FB47954D0A0F583225A288A98D059D99FD8322BF09915FDF2B441E14EB98AA4E58BA65C7769C3EF0B231846D1EC254CDCD08BB28027ED3F4D2A06E8F90A9CAF92CF2970B1831F3634236E973F0F47C16E9A8B14F435347B08B667351DF8C4C1BDCF080B477939B0CC7FCEC249A23BFC636027758B892AC4DF29933B770F6E271AEFDBACD4F5E4FE53326099ECE6D4CBA7D799E939FBBB23911E6113B4F42BC6EA524B5CF0416798D14C755D91A52D415A4F53511DBAACE79B22928065587289FAC158022A2EF1B5EBD1DAB08DC09F78008EFC00A48E52A1288A0786935D5795AE8A37D6193ED605FC2E382577A536C695F8A1330AAED932F87F5C5B558B8E62D5F5DFC9EE0DD327CB75840CB802DAAB3927BB02ED47B95AA8AE670DE2EA00BE20B16DCA00963081F6613E52D8F479BAA8EEEE485F4B2E0EE182AEED325882276A6152AF0458BB5CACBEFF31F57DDEBD1418EE1B8445396E6D2F29928BB756CA1F435D58807172826342DDAAD417A1B987B81D2AD1E5B0D01A79C4B0A9FEA969551A81C90FE2CC6701D116162B0A54A9B0BB6C0F4D1325B2B54775D1D99712100BB1498DF29E6A19F04786F923363E5656D11266F698F20D4A84518A1B93D965C741601E56F1D24CC9E386AC2652DED118ABAB3085134755B5B55769657567D5111A78E6442CA1146B159297CC83ED0CA438A2C37927FE4478AEEDE611867D2322F5D8A0A3614429B7084971D1149686E8FB55460961D11FA78FC73594DC3F9A29FE19427C91EB6631C6A341FA10C58B3206369B171DBD26A606DC3D286F6E3C5DA9E0823B67708F545B5AE16EC8BB62EA62854DFEAC6287C688F5756D844A8B2AD835445C1AC2650D1D61EA5AC7FD576BE687B310E561D374772307ECBEAEE60E6A1C6B82A54B66A81D5582D6B44ABBD1BCB81DA747D6C425C28488B8E0845A54A84289A5E77BCAF5F41B48769F106DAE5D02C8E339C8E4DA13CBD61E995A7DE5E55958DA4FC54755C8A3E021A1FD3464B526611E5CBA5BAF9CA1D53EEC24D8FDF35A53BE5B4B8DFEDA77A2B17BEBC8B6D31D91F90975EF6563B426130493B4C565FFDB98F98B1571D9600A30D2434AFDCD8A7C727A7124BFCE530B61D423C5F733FD6D0B6EB7BF6E49CE904A3AF0944E93329DA20180FE24F3F80D8BD4F6B5D12817A283B5A879BF18046E13E7B80423A94FB8C52531DC27A5EA3EE003AC673CBD574A4C9F6B0D2B158AA832D5461ACF6D92B91A6AA33C777DDADB1852F2AC5842B960A1E67F6DF19C49975F5E7178E7264DDC42C4C9E59C7D6B7D1365F9B9D9F83B539D80A040627DF3FB37ABFC9FCCEC1EC4D6D0CEB111CEBDC4C1DEADB3198972D426E779EE5588E5363518E045AE748EA404F476740F6F0AA71D987A3C4569989D827BC8ADC43ADE97537EA1AB35087F95357637E0501BBF15635F074397A947F3E7DF6CB382D84A96046D8DDBEC42E5E22EDC322914ADD7D0861BD8828E63ADB41F95A2F9066D282A0A57DF918DF02E468A2816B49CA7A3D56B1E75DEA95D887EEE149746DDD8E9AB6F2655B48A78D6A7E493BA88D344FFD0446D29AEC3852F0D0FF814A6B92E42B09170D4596E78E137ABAA2CABC3154A7E43F7631B311F3A7DC99EDAD53A3C98F3946CA9396AB68A62AEAB0F5343D238DB191C5A8C537F2D64C24C7468EA36E0A23B7CCA4FF86C5283D1AF6C348DF3C2CF35232A21A3D6A2FDB52A5681E825BC919802D289686C2D3080B36ECB6B66276082594E4C5364AD017B7B4A70C1D77E3E5A861646E69DFBD978349BD127F10EAA85ABE63F946F8FF9C58BA23685B41A4FFBB13866E2DD3F03E57781396394F92A8EC223FAA430A3C9686CE6376C5062E659F5D4848F637A0C55F405D066BE85DE19B844609654B86C1DADF89CA481367D3FC193FB62EF3F426CAFE6A738C253031515A72B9C1EF13E47B5CEE85E69A6F804833F207C8DAF3BD64099EC2ED8E235D2BBB6F022AD4C70F127730887C06466EF00A3CC03EB27D26F023DC0277575661CD20FB37A2AEF6E90502DB1804A4C0A8C6B35F990D7BC1E3AFFF037DF65B95D64C0000 , N'6.1.3-40302')

